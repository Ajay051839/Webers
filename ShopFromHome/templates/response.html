{% extends 'base.html' %}

{% block content %}
{% comment %} {% for response in responses %}
{% for re in response|slice:":1" %}
<h6>Response for request of {{re.req.item}}</h6>
<h6>Type: {{re.req.type}}</h6> {% endcomment %}


<style>
      
      .btn btn-primary btn-lg{
        font-size: large;
      }
      table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    }

    table{
    margin-top: 120px;
    width:max-content;
    height: 150 px;
    }
    table{
            border-collapse: collapse;
            width: 90%;
            position: center;
            margin-left: auto;
            margin-right: auto;
        }

        th,td{
            padding: 15px;
            text-align: left;
        }

    </style>
    
      <table class="table table-bordered border-primary">
        
        <thead>
          <tr>
            <th scope="col">Response for request </th>
            <th scope="col" rowspan="{{response.length}}">Type</th>
            <th scope="col">Shop</th>
            <th scope="col">Shopkeeper</th>
            <th scope="col">Price</th>
            <th scope="col">Accept response</th>
          </tr>
        </thead>
        <tbody>
        {% for response in responses %}
        {% for re in response|slice:":1" %}
        <tr>
            <th colspan="{{response.length}}">{{re.req.item}}</th>
            <th colspan="{{response.length}}">{{re.req.type}}</th>
            {% comment %} {% endfor %} {% endcomment %}
            {% for res in response %}
          
            <td>{{res.shop}}</td>
            <td>{{res.name}}</td>
            <td>{{res.price}}</td>
            <td><div id="ap"><a href="/{{res.id}}/{{res.req.id}}/acceptResponse" class="btn btn-primary">Accept</a></div></td>
          </tr>
          {% endfor %}
        



{% comment %} {% for res in response %}
<p>Shop: {{res.shop}}</p>
<p>Shopkeeper: {{res.name}}</p>
<p>Price: {{res.price}}</p>
<a href="/{{res.id}}/{{res.req.id}}/acceptResponse" class="btn btn-primary">Accept</a> {% endcomment %}
{% endfor %}
 
{% endfor %}
{% endblock content %}